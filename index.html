<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>To-Do App</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div>
      <!-- container -->

      <!-- <h1>To-Do App</h1> -->

      <!-- <div class="input-group">
            <input id="taskInput" type="text" placeholder="Escribe una tarea...">
            <button onclick="addTask()">Agregar</button>
            <button onclick="showTasks()">Mostrar tareas</button>
            <button onclick="deleteTasks()">Eliminar tarea</button>
        </div> -->

      <!-- <ul id="taskList"></ul> -->

      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <!-- Card -->
            <div class="card shadow">
              <div class="card-header text-center fw-bold">
                <h1>To-Do App</h1>
              </div>

              <div class="card-body">
                <!-- Input de nueva tarea -->
                <div class="input-group mb-3">
                  <input id="taskInput" type="text" class="form-control" placeholder="Escribe una tarea..." />
                  <button id="addTaskBtn" class="btn btn-primary">Agregar</button>
                </div>

                <!-- Lista To-Do -->
                <ul id="taskList" class="list-group">
                  <!-- Aquí se agregan las tareas -->
                </ul>
              </div>

              <div class="card-footer text-center">
                <button id="clearAllBtn" class="btn btn-danger btn-sm">Borrar todas las tareas</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <script src="app.js"></script> -->

    <script>
      const taskInput = document.getElementById("taskInput");
      const addTaskBtn = document.getElementById("addTaskBtn");
      const taskList = document.getElementById("taskList");
      const clearAllBtn = document.getElementById("clearAllBtn");

      // Agregar tarea
      addTaskBtn.addEventListener("click", () => {
        const text = taskInput.value.trim();
        if (text === "") return;

        const li = document.createElement("li");
        li.className = "list-group-item d-flex justify-content-between align-items-center";

        li.innerHTML = `
                <span class="task-text">${text}</span>
                <div class="d-flex gap-2 ms-auto">
                    <button class="btn btn-success btn-sm complete-btn">Completada</button>
                    <button class="btn btn-sm btn-outline-danger delete-btn">Borrar</button>
                </div>
            `;

        taskList.appendChild(li);
        taskInput.value = "";
      });

      // Borrar tarea individual
      taskList.addEventListener("click", (e) => {
        if (e.target.classList.contains("delete-btn")) {
          e.target.closest("li").remove();
          return;
        }

        // Marcar tarea como completada
        if (e.target.classList.contains("complete-btn")) {
          const li = e.target.closest("li");
          const textElem = li.querySelector(".task-text");

          textElem.classList.toggle("completed");

          // Si se completa → mover al final
          if (textElem.classList.contains("completed")) {
            taskList.appendChild(li);
          } else {
            // Si se desmarca, moverla al inicio
            taskList.prepend(li);
          }
        }
      });

      // Borrar todas las tareas
      clearAllBtn.addEventListener("click", () => {
        taskList.innerHTML = "";
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<style>
  .completed {
    background-color: #c8f7c5 !important; /* Verde suave */
    color: #155724 !important; /* Verde oscuro para texto */
    border-color: #b1e6ad !important;
  }
</style>